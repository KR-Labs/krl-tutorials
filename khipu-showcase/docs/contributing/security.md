# Security

Security is a top priority for the Khipu Showcase project. This document outlines our security practices and how to report vulnerabilities.

## Security Principles

### No Secrets in Code

This repository contains **no secrets, API keys, or credentials**. All notebooks:

- Use synthetic data generated by mock clients
- Require no authentication
- Run in DEMO_MODE by default

### Automated Scanning

Our CI pipeline includes:

1. **detect-secrets** - Scans for hardcoded secrets
2. **Gitleaks** - Git history secret scanning
3. **Bandit** - Python security linting
4. **Safety** - Dependency vulnerability checking

### Pre-commit Hooks

We recommend installing pre-commit hooks:

```bash
pip install pre-commit
pre-commit install
```

This runs secret scanning before each commit.

## Reporting Vulnerabilities

### Responsible Disclosure

If you discover a security vulnerability:

1. **Do not** open a public issue
2. Email security@kr-labs.io with:
   - Description of the vulnerability
   - Steps to reproduce
   - Potential impact
3. Allow 90 days for patching before disclosure

### What to Report

- Hardcoded secrets or credentials
- SQL injection or code injection risks
- Cross-site scripting (XSS) in Voilà dashboards
- Dependency vulnerabilities
- Insecure data handling

### What Not to Report

- Synthetic data quality issues
- Demo mode limitations
- Feature requests

## Security Best Practices

### For Contributors

1. **Never commit secrets** - Use environment variables
2. **Review dependencies** - Check for known vulnerabilities
3. **Use type hints** - Helps catch errors early
4. **Validate inputs** - Even in demo mode

### For Users

1. **Don't add real credentials** to notebooks
2. **Use demo mode** for public sharing
3. **Review notebook outputs** before sharing
4. **Keep dependencies updated**

## Dependency Management

We regularly update dependencies and scan for vulnerabilities:

```bash
# Check for vulnerable packages
pip install safety
safety check

# Update all packages
pip install --upgrade -e ".[dev]"
```

## Security Headers (Voilà)

When deploying Voilà dashboards, configure security headers:

```python
c.VoilaConfiguration.http_header_security = {
    "Content-Security-Policy": "default-src 'self'",
    "X-Content-Type-Options": "nosniff",
    "X-Frame-Options": "DENY",
}
```

## Acknowledgments

We thank security researchers who help keep Khipu Showcase secure. Contributors will be acknowledged (with permission) after vulnerabilities are patched.
